/*************************
*   Navigation Styles
*   Rhino Hooton
*   6/29/15
/************************/


/*  main menu
**************************************************/
#block-system-main-menu {
	@extend %header-data;
	background: $color-white;
	border-bottom: 1px solid $color-gray-medium-light;
	border-top: 5px solid $color-leidos-purple-light;
	position: relative;
	z-index: 2;

	&:after {
		@extend %header-data;
		background: $color-gray-light;
		content: "";
		display: block;
		overflow: hidden;
		position: absolute;
		right: -450%;
		top: 0;
		width: 500%;
		z-index: 1;
	}

	h2 {
		display: none;
	}

	.additional-control {
		background: transparent url("../images/hamburger-bar.png") no-repeat scroll center center;
		clear: both;
		color: $color-leidos-purple-dark;
		cursor: pointer;
		display: none;
		font-family: "AvenirLT-Black", Arial, sans-serif;
		font-size: 12px;
		height: $header-height-mt;
		line-height: auto;
		outline: none;
		padding: 0;
		position: relative;
		text-transform: uppercase;
		width: 85px;
		z-index: 21;

		&:before,
		&:after {
			background: transparent url("../images/hamburger-bar.png") no-repeat scroll center center;
			content: "";
			height:25px;
			position: absolute;
			right: calc(50% - 25px);
			transition: all .25s ease 0s;
			transition: all .25s ease 0s;
			width: 50px;
			z-index: 1;
		}

		&:before {
			top: calc(50% - 27.5px);
			transform: rotate(0deg);
		}

		&:after {
			top: calc(50% - -2.5px);
			transform: rotate(0deg);
		}

		&.mobile-drop-active {
			background: none;

			&:before,
			&:after {
				top: calc(50% - 12.5px);
			}

			&:before {
				transform: rotate(45deg);
			}

			&:after {
				transform: rotate(-45deg);
			}

		}
	}

	.content {
		@extend %header-data;
		@extend %max-width;
		background: $color-white;
		border: none;
		display: block;
		float: none;
		position: relative;
		z-index: 2;

		.parent-menu {
			position: relative;
			width: 100%;

			li {
				diplay: block;
				float:left;
				margin: 0 0.75%;

				&.expanded {
					position: relative;
				}

				/* menu sections */
				a {
					@extend %header-data;
					color: $color-leidos-purple-dark;
					display: block;
					font-family: "AvenirLT-Black", Arial, sans-serif;
					font-size: 16px;
					line-height: 108px;
					outline: none;
					padding: 0;
					position: relative;
					text-transform: uppercase;

					&:hover,
					&.active {
						color: $color-leidos-purple-light;
					}

					&.active {
						background: none, url("../images/nav-arrow.svg") no-repeat 50% 0;
					}
				}

				/* header logo */
				&.first {
					margin-left: 0;

					a {
						@extend %hide-text;
						background: url(../images/leidos-logo.png) no-repeat center center;
						width: 170px;

						&:hover {
							background: url(../images/leidos-logo.png) no-repeat center center;

							&:before,
							&:after {
								display: none;
							}						
						}
					}
				}

				/* small menu sections */
				&:nth-child(6),
				&:nth-child(7),
				&:nth-child(8) {
					a {
						color: $color-gray-dark;
						font-size: 11px;
						line-height: 112px;
					}
				}

				&:nth-child(8) {
					margin-right: 0;
				}

				/* search glass menu section */
				&.last {
					margin: 0;
					overflow: hidden;
					position: absolute;
					right: 0;
					top: 0;
					width: 128px;

					&:after {
						background: $color-gray-light;
						border: 1px solid $color-gray-medium-light;
						content: "";
						display: block;
						height: 200px;
						left: 12px;
						overflow: hidden;
						position: absolute;
						top: 0;
						transform: rotate(27deg);
						width: 300px;
						z-index: 1;
					}

					span {
						@extend %header-data;
						@extend %hide-text;
						cursor: pointer;
						display: block;
						padding: 0;
						position: relative;
						text-align: right;
						text-transform: uppercase;
						z-index: 2;

						&:before {
							background: url("../images/search-glass.png") no-repeat center top transparent;
							content: '';
							height: 24px;
							left: 50%;
							position: absolute;
							top: calc(50% - 6px);
							width: 24px;
							z-index: -1;
						}

						&:hover,
						&.active {
							&:before {
								background-position: center bottom;
							}
						}
						
					}
				}

				/***** sub menus *****/
				.no-children {
					background: $color-gray-light;
					border-left: 1px solid $color-gray-medium-light;
					border-right: 1px solid $color-gray-medium-light;
					display: block;
					left: -10px;
					max-height: 0px;
					overflow: hidden;
					position: absolute;
					top: $header-height;
					transition: all .25s ease 0s;
					width: 200px;
					z-index: 1;

					li {
						display: block;
						float: none;
						margin: 0;
						overflow: hidden;
						padding: 0;
						position: relative;
						width: auto;

						a {
							background: none;
							color: transparent;
							display: block;
							font-family: Arial, Helvetica, sans-serif;
							font-size: 12px;
							height: auto;
							line-height: normal;
							margin: 10px 30px;
							padding: 0;
							position: relative;
							text-transform: none;
							width: auto;

							&:hover {
								background: none;
							}

							&:before,
							&:after {
								display: none;
							}

							&:nth-child(6),
							&:nth-child(7),
							&:nth-child(8) {
								a {
									font-size: 12px;
									line-height: normal;
								}
							}
						}

						&:before,
						&:after {
							display: none;
						}

						&.first {
							a {
								margin-top: 20px;
							}
						}

						&.last {
							a {
								margin-bottom: 20px;
							}
						}
					}
				}

				&:hover,
				&.hover {
					a {
						&:before,
						&:after {
							background: url("../images/tab-shadows.png") no-repeat $color-white;
							content: "";
							height: $header-height;
							position: absolute;
							top: 0;
							width: 5px;
						}

						&:before {
							background-position: left bottom;
							left: -14px;
						}

						&:after {
							background-position: right bottom;
							right: -14px;
						}
					}

					.no-children {
						background: $color-white;
						border-bottom: 1px solid $color-gray-medium-light;
						display: block;
						max-height: 500px;
						z-index: 2;

						li {
							a {
								color: $color-leidos-purple-light;

								&:before {
									background: none;
									content: '\25e6';
									display: block;
									height: 24px;
									left: -24px;
									line-height: 24px;
									opacity: 0;
									position: absolute;
									text-align: center;
									top: calc(50% - 12px);
									transition: opacity .5s ease;
									width: 24px;
									z-index: -1;
								}

								&:hover {
									color: $color-leidos-purple-dark;

									&:before {
										opacity: 1;
									}
								}
							}
						}
					}
				}
			}
		}
	}
}


/*  search box
**************************************************/
.block-leidos-custom-search {
	background: $color-gray-light;
	border-bottom: 1px solid $color-gray-medium-light;
	display: block;
	height:unquote("calc(")$search-height unquote("+ 62px)"); // adjusted to compensate for padding
	left:0;
	position: absolute;
	top: -49px;
	transition: top .5s ease 0s;
	z-index: 1;

	&.search-active {
		top: 92px;
	}

	h2 {
		display: none;
	}

	.content {
		height:unquote("calc(")$search-height unquote("+ 62px)"); // adjusted to compensate for padding

		#search_leidos_website {
			@extend %max-width;
			height: $search-height;
			padding: 40px 0px 22px;
			position: relative;

			input[type="text"] {
				background: url("../images/searchbox-search-glass.png") no-repeat 50px -92px $color-gray-light;
				border: none;
				color: $color-gray-medium-light;
				font-family: "AvenirLT-Book", Arial, sans-serif;
				font-size: 70px;
				height: $search-height;
				line-height: $search-height;
				margin: 0;
				outline: none;
				padding: 0 0 0 120px;
				position: relative;
				width: 67%;

				&:focus {
					background-position: 50px 10px;
				}
			}

			input[type="submit"] {
				background: $color-gray-medium-light;
				border-radius: 40px;
				border: 0;
				color: $color-gray-light;
				cursor: pointer;
				display: none;
				font-family: "AvenirLT-Black",Arial,sans-serif;
				font-size: 16px;
				height: unquote("calc(")$search-height unquote("- 44px)");
				margin: 0;
				outline: none;
				padding: 0;
				position: absolute;
				right:unquote("calc(")$search-height unquote("+ 40px)");
				text-transform: uppercase;
				top: 59px;
				width: 126px;

				&:hover {
					background: $color-leidos-purple-dark;
				}
			}

			span {
				@extend %hide-text;
				background: url("../images/searchbox-cancel.png") no-repeat center 14px $color-gray-light;
				border: 0;
				cursor: pointer;
				display: block;
				height: $search-height;
				outline: none;
				padding: 0;
				position: absolute;
				right: 20px;
				top: 40px;
				width: $search-height;

				&:hover {
					background-position: center -88px;					
				}
			}
		}
	}
}


/*  tablet
**************************************************/
@media only screen and (min-width: 721px) and (max-width: 960px) {

	#block-system-main-menu {
		// @extend %header-data;
		// background: $color-white;
		// border-bottom: 1px solid $color-gray-medium-light;
		// border-top: 5px solid $color-leidos-purple-light;
		// position: relative;
		// z-index: 2;

		&:after {
			// @extend %header-data;
			// background: $color-gray-light;
			// content: "";
			// display: block;
			// overflow: hidden;
			// position: absolute;
			// right: -450%;
			// top: 0;
			// width: 500%;
			// z-index: 1;
		}

		h2 {
			// display: none;
		}

		.additional-control {
			display: block;
		}

		.content {
			.parent-menu {
				background: $color-gray-light;
				height: 100vh;
				max-height: 0;
				overflow: hidden;
				padding-top:unquote("calc(")$header-height-mt unquote("+ 1px)");
				position: absolute;
				right: 0;
				top: 0;
				transition: all .25s ease 0s;
				width: 100%;
				z-index: 20;

				&.mobile-drop-active {
					max-height: 1000px;
					overflow: visible;
				}

				li {
					// diplay: block;
					// margin: 0 0.75%;
					diplay: block;
					float:none;
					list-style: none;
					margin: 0;
					padding: 0;
					position: relative;
					transition: all .25s ease 0s;
					width: 100%;
					z-index: 1;

					&:before {
						background: transparent url("../images/left-nav-shadow.png") no-repeat scroll right bottom;
						bottom: -30px;
						content: "";
						height: 30px;
						opacity: 0;
						pointer-events: none;
						position: absolute;
						right: 0px;
						transition: opacity .25s ease 0s;
						width: 271px;
					}

					&:after {
						clear: both;
						content: "";
						display: block;
						height: 0;
						overflow: hidden; 
					}

					&.expanded {
						// position: relative;
					}

					/* menu sections */
					a {
						border-bottom: 1px solid $color-gray-medium-light;
						border-top: 1px solid $color-white;
						clear: left;
						color: $color-leidos-purple-dark;
						display: block;
						float: left;
						font-family: "AvenirLT-Black", Arial, sans-serif;
						font-size: 12px;
						height: auto;
						line-height: inherit;
						outline: none;
						padding: 17px 30px;
						position: relative;
						text-transform: uppercase;
						width: calc(100% - 60px);

						&:hover,
						&.active {
							background: none;

							&:before,
							&:after {
								background: transparent;
							}
						}

						&.active {
							// background: none, url("../images/nav-arrow.svg") no-repeat 50% 0;
						}							
					}

					/* header logo */
					&.first {
						// margin-left: 0;
						background-color: $color-white;
						height: $header-height-mt;
						position: absolute;
						top: 0;
						border-bottom: 1px solid $color-gray-medium-light;
						transition: all .25s ease 0s;
						right: 0;

						a {
							// @extend %hide-text;
							// background: url(../images/leidos-logo.png) no-repeat center center;
							// width: 170px;
							margin: 0 auto;
							float: none;
							height: $header-height-mt;
							padding: 0;
							border: none;

							&:hover {
								z-index: 3;
								// background: url(../images/leidos-logo.png) no-repeat center center;

								&:before,
								&:after {
									// display: none;
								}						
							}
						}
					}

					/* small menu sections */
					&:nth-child(6),
					&:nth-child(7),
					&:nth-child(8) {
						a {
							color: $color-leidos-purple-dark;
							font-size: 12px;
							line-height: inherit;
						}
					}

					&:nth-child(8) {
						// margin-right: 0;
					}

					&.expanded {
						> a {
							width: calc(80% - 60px);
						}

						> .additional-control {
							background: transparent;
							border-bottom: 1px solid $color-gray-medium-light;
							border-right: 0;
							border-top: 1px solid $color-white;
							clear: right;
							color: transparent;
							cursor: pointer;
							display: block;
							float: right;
							font-size: 0px;
							height: 52px;
							padding: 0;
							position: relative;
							width: 20%;
							z-index: 20;

							&:before {
								background: transparent url("../images/nav-arrow.png") no-repeat scroll center center;
								background-size: 60% auto;
								content: "";
								height:25px;
								position: absolute;
								right: 30px;
								top: calc(50% - 12.5px);
								transform: rotate(90deg);
								transition: transform .25s ease 0s;
								width: 38px;
								z-index: -1;
							}

							&:after {
								display: none;
							}
						}

						&.mobile-active {
							> .additional-control {
								position: relative;
								right: -100%;
								top: -$side-nav-height;
								width: 100%;
								z-index: 11;

								&:before {
									left: 30px;
									transform: rotate(270deg);
								}
							}

							&:nth-child(2) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 1 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 0 + 1px)");
								}
							}

							&:nth-child(3) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 2 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 1 + 1px)");
								}
							}

							&:nth-child(4) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 3 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 2 + 1px)");
								}
							}

							&:nth-child(5) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 4 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 3 + 1px)");
								}
							}

							&:nth-child(6) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 5 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 4 + 1px)");
								}
							}

							&:nth-child(7) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 6 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 5 + 1px)");
								}
							}

							&:nth-child(8) {
								.additional-control {
									top:unquote("calc(")-$side-nav-height unquote("* 7 + 1px)");
								}
								.no-children {
									top:unquote("calc(")-$side-nav-height unquote("* 6 + 1px)");
								}
							}
						}
					}

					/* search glass menu section */
					&.last {
						// margin: 0;
						// overflow: hidden;
						// position: absolute;
						right: 0;
						top: 0;
						width: 85px;
						transition: all .25s ease 0s;

						&:hover,
						&.active {
							background-color: transparent;
						}

						&:after {
							// background: $color-gray-light;
							// border: 1px solid $color-gray-medium-light;
							// content: "";
							// display: block;
							// height: 200px;
							// left: 12px;
							// overflow: hidden;
							// position: absolute;
							// top: 0;
							// transform: rotate(27deg);
							// width: 300px;
							// z-index: 1;
						}

						span {
							// @extend %header-data;
							// @extend %hide-text;
							// cursor: pointer;
							// display: block;
							// padding: 0;
							// position: relative;
							// text-align: right;
							// text-transform: uppercase;
							// z-index: 2;

							&:before {
								// background: url("../images/search-glass.png") no-repeat center top transparent;
								// content: '';
								// height: 24px;
								// left: 50%;
								// position: absolute;
								// top: calc(50% - 6px);
								// width: 24px;
								// z-index: -1;
							}

							&:hover,
							&.active {
								&:before {
									// background-position: center bottom;
								}
							}
							
						}
					}

					/***** sub menus *****/
					.no-children {
						background: $color-leidos-purple-soft-light;
						clear: both;
						display: none;
						height: 100vh;
						left: auto;
						margin: 0;
						max-height: 100vh;
						opacity: 0;
						overflow: hidden;
						padding-top: 54px;
						position: absolute;
						right: -100%;
						top: 0;
						transition: all .25s ease 0s;
						width: 100%;
						z-index: 10;

						li {
							background: transparent;

							&:before {
								display: none;
							}

							&.first,
							&.last {
								height: auto;

								a {
									margin: 0;
								}
							}

							a {
								border-bottom: 1px solid $color-leidos-purple-soft-dark;
								border-right: 0;
								border-top: 1px solid $color-leidos-purple-soft-medium;
								clear: left;
								color: $color-leidos-purple-dark;
								display: block;
								font-family: "AvenirLT-Black", Arial, sans-serif;
								font-size: 11px;
								margin: 0;
								padding: 17px 30px;
								width: calc(100% - 60px);
								text-transform: uppercase;

								&:hover,
								.active {
									border-bottom: 1px solid $color-white;
									color: $color-leidos-purple-light;
								}
							}
						}
					}

					&:hover,
					&.hover,
					&.active-trail {
						background: $color-white;
						z-index: 1;

						&:before {
							opacity: 1;
						}

						&.first,
						&.last {
							&:before {
								opacity: 0;
							}
						}

						a {
							&:before,
							&:after {
								background: transparent;
								// content: "";
								// height: $header-height;
								// position: absolute;
								// top: 0;
								// width: 5px;
							}

							&:before {
								// background-position: left bottom;
								// left: -14px;
							}

							&:after {
								// background-position: right bottom;
								// right: -14px;
							}
						}

						.no-children {
							// border-bottom: 1px solid $color-gray-medium-light;
							// display: block;
							// z-index: 2;
							height: 100vh;
							max-height: 100vh;
							background: $color-leidos-purple-soft-light;

							li {
								a {
									// color: $color-leidos-purple-light;

									&:before {
										// background: none;
										// content: '\25e6';
										// display: block;
										// height: 24px;
										// left: -24px;
										// line-height: 24px;
										// opacity: 0;
										// position: absolute;
										// text-align: center;
										// top: calc(50% - 12px);
										// transition: opacity .5s ease;
										// width: 24px;
										// z-index: -1;
									}

									&:hover {
										// color: $color-leidos-purple-dark;

										&:before {
											// opacity: 1;
										}
									}
								}
							}
						}
					}

					&.mobile-active {
						.no-children {
							opacity: 1;
							display: block;
							background: $color-leidos-purple-soft-light;
							height: 100vh;
						}
					}
				}

				&.parent-shift {
					right: 100%;

					> li {
						&.first {
							right: -100%;
						}

						&.last {
							right: -100%;
						}
					}
				}
			}
		}
	}


	/*  search box
	**************************************************/
	.block-leidos-custom-search {
		// background: $color-gray-light;
		// border-bottom: 1px solid $color-gray-medium-light;
		// display: block;
		// height:unquote("calc(")$search-height unquote("+ 62px)"); // adjusted to compensate for padding
		// left:0;
		// position: absolute;
		top: -57px;
		// transition: top .5s ease 0s;
		// z-index: 1;

		&.search-active {
			top: 83px;
		}

		h2 {
			// display: none;
		}

		.content {
			// height:unquote("calc(")$search-height unquote("+ 62px)"); // adjusted to compensate for padding

			#search_leidos_website {
				// @extend %max-width;
				// height: $search-height;
				// padding: 40px 0px 22px;
				// position: relative;

				input[type="text"] {
					// background: url("../images/searchbox-search-glass.png") no-repeat 50px -92px $color-gray-light;
					// border: none;
					// color: $color-gray-medium-light;
					// font-family: "AvenirLT-Book", Arial, sans-serif;
					// font-size: 70px;
					// height: $search-height;
					// line-height: $search-height;
					// margin: 0;
					// outline: none;
					// padding: 0 0 0 120px;
					// position: relative;
					// width: 67%;

					&:focus {
						// background-position: 50px 10px;
					}
				}

				input[type="submit"] {
					// background: $color-gray-medium-light;
					// border-radius: 40px;
					// border: 0;
					// color: $color-gray-light;
					// cursor: pointer;
					display: block;
					// font-family: "AvenirLT-Black",Arial,sans-serif;
					// font-size: 16px;
					// height: unquote("calc(")$search-height unquote("- 44px)");
					// margin: 0;
					// outline: none;
					// padding: 0;
					// position: absolute;
					// right:unquote("calc(")$search-height unquote("+ 40px)");
					// text-transform: uppercase;
					// top: 59px;
					// width: 126px;

					&:hover {
						// background: $color-leidos-purple-dark;
					}
				}

				span {
					// @extend %hide-text;
					// background: url("../images/searchbox-cancel.png") no-repeat center 14px $color-gray-light;
					// border: 0;
					// cursor: pointer;
					// display: block;
					// height: $search-height;
					// outline: none;
					// padding: 0;
					// position: absolute;
					// right: 20px;
					// top: 40px;
					// width: $search-height;

					&:hover {
						// background-position: center -88px;
					}
				}
			}
		}
	}
}


/*  mobile
**************************************************/
@media only screen and (max-width: 720px) {

}
