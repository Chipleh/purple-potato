<?php
/**
 * @file
 * Code for the Flexible Template feature.
 */

include_once 'flexible_template.features.inc';

/**
 * Implements hook_entity_info_alter().
 */
function flexible_template_entity_info_alter(&$entity_info) {
  $panes = array(
    'feature_video' => array(
      'name' => 'Feature Video',
      'category' => 'Flexible Template',
    ),
    'icons' => array(
      'name' => 'Icons',
      'category' => 'Flexible Template',
    ),
    'multi_column' => array(
      'name' => 'Multi-column',
      'category' => 'Flexible Template',
    ),
    'rotator_hero' => array(
      'name' => 'Rotator / Hero',
      'category' => 'Flexible Template',
    ),
    'thumbnail_gallery' => array(
      'name' => 'Thumbnail Gallery',
      'category' => 'Flexible Template',
    ),
  );

  foreach($panes as $pane_id => $pane_info) {
    $entity_info['fieldable_panels_pane']['bundles'][$pane_id] = array(
      'label' => t($pane_info['name']),
      'pane category' => t($pane_info['category']),
      'pane top level' => FALSE,
      'pane icon' => isset($pane_info['icon']) ? drupal_get_path('module', 'wy') . '/icons/' . $pane_info['icon'] : '',
      'admin' => array(
        'path' => 'admin/structure/fieldable-panels-panes/manage/%fieldable_panels_panes_type',
        'bundle argument' => 4,
        'real path' => 'admin/structure/fieldable-panels-panes/manage/' . str_replace('_', '-', $pane_id),
        'access arguments' => array('administer fieldable panels panes'),
      ),
    );
  }
}
